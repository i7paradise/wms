<div class="row justify-content-center">
  
  <div class="col-4">
    <div *ngIf="order">
      <h2 data-cy="orderDetailsHeading"><span >Shipping detail</span></h2>

      <hr />

      <jhi-alert-error></jhi-alert-error>

      <jhi-alert></jhi-alert>

      <dl class="row-md jh-entity-details" *ngIf="!editMode">
        <dt><span>Shipping number</span></dt>
        <dd>
          <span>{{ order.transactionNumber }}</span>
        </dd>
        <dt><span >Date</span></dt>
        <dd>
          <span>{{ order.placedDate | formatMediumDatetime }}</span>
        </dd>
        <dt><span jhiTranslate="wmsApp.order.status">Status</span></dt>
        <dd>
          <span jhiTranslate="{{ 'wmsApp.OrderStatus.' + order.status }}">{{ order.status }}</span>
        </dd>
        <dt><span>Purchase number</span></dt>
        <dd>
          <span>{{ order.code }}</span>
        </dd>
      </dl>

      <div class="row justify-content-center" *ngIf="editMode">
        <div class="col-8">
          <form name="editForm" role="form" novalidate (ngSubmit)="save()" [formGroup]="editForm">
            <div>
              <div class="form-group">
                <label class="form-control-label" for="field_transactionNumber"
                  >Receipt number</label
                >
                <input
                  type="text"
                  class="form-control"
                  name="transactionNumber"
                  id="field_transactionNumber"
                  data-cy="transactionNumber"
                  formControlName="transactionNumber"
                />
                <div
                  *ngIf="
                    editForm.get('transactionNumber')!.invalid &&
                    (editForm.get('transactionNumber')!.dirty || editForm.get('transactionNumber')!.touched)
                  "
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="editForm.get('transactionNumber')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>
              </div>

              <div class="form-group">
                <label class="form-control-label" for="field_placedDate">Date</label>
                <div class="d-flex">
                  <input
                    id="field_placedDate"
                    data-cy="placedDate"
                    type="datetime-local"
                    class="form-control"
                    name="placedDate"
                    formControlName="placedDate"
                    placeholder="YYYY-MM-DD HH:mm"
                  />
                </div>
                <div
                  *ngIf="editForm.get('placedDate')!.invalid && (editForm.get('placedDate')!.dirty || editForm.get('placedDate')!.touched)"
                >
                  <small
                    class="form-text text-danger"
                    *ngIf="editForm.get('placedDate')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                  <small
                    class="form-text text-danger"
                    [hidden]="!editForm.get('placedDate')?.errors?.ZonedDateTimelocal"
                    jhiTranslate="entity.validation.ZonedDateTimelocal"
                  >
                    This field should be a date and time.
                  </small>
                </div>
              </div>

              <div class="form-group">
                <label class="form-control-label" for="field_code">Purchase number</label>
                <input type="text" class="form-control" name="code" id="field_code" data-cy="code" formControlName="code" />
                <div *ngIf="editForm.get('code')!.invalid && (editForm.get('code')!.dirty || editForm.get('code')!.touched)">
                  <small
                    class="form-text text-danger"
                    *ngIf="editForm.get('code')?.errors?.required"
                    jhiTranslate="entity.validation.required"
                  >
                    This field is required.
                  </small>
                </div>
              </div>

            </div>

            <div class="form-group">
              <button type="button" id="cancel-save" data-cy="entityCreateCancelButton" class="btn btn-secondary" (click)="cancelEdit()">
                <fa-icon icon="ban"></fa-icon>&nbsp;<span jhiTranslate="entity.action.cancel">Cancel</span>
              </button>

              <button
                type="submit"
                id="save-entity"
                data-cy="entityCreateSaveButton"
                [disabled]="editForm.invalid || isSaving"
                class="btn btn-primary"
              >
                <fa-icon icon="save"></fa-icon>&nbsp;<span jhiTranslate="entity.action.save">Save</span>
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="">
        <button type="submit" (click)="previousState()" class="btn btn-info" data-cy="entityDetailsBackButton">
          <fa-icon icon="arrow-left"></fa-icon>&nbsp;<span jhiTranslate="entity.action.back">Back</span>
        </button>
  
        <button type="button" class="btn btn-primary" (click)="startEdit()" *ngIf="notCompleted() && !editMode">
          <fa-icon icon="pencil-alt"></fa-icon>&nbsp;<span jhiTranslate="entity.action.edit">Edit</span>
        </button>
  
        <button type="button" class="btn btn-success" (click)="toggleComplete()"
          [disabled]="btnToggleCompleteDisabled()" *ngIf="notCompleted()">
          <i class="bi bi-check-circle-fill"></i>&nbsp;<span>Complete</span>
        </button>
      </div>

      <jhi-shipping-items [order]="order"></jhi-shipping-items>
    </div>
  </div>

  <div class="col-5 shadow p-3 mb-3 bg-body rounded">
    <jhi-shipping-tags [order]="order"></jhi-shipping-tags>
  </div>
</div>
